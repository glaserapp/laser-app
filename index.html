<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Laser Label Builder</title>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <link rel="stylesheet" href="styles.css">
</head>

<body>

<div class="app">

    <!-- SIDEBAR -->
    <div class="sidebar" id="sidebar">

        <h1>Laser Label Builder</h1>
        <p class="subtitle">NultÃ¡ verze Â· Offline demo</p>

        <!-- EDIT BUTTON â€“ zobrazÃ­ se jen kdyÅ¾ je naÄtenÃ½ nÃ¡stroj -->
        <button id="edit-toggle" class="edit-btn" style="display:none;" onclick="toggleEditMode()">
            âœï¸ Editovat parametry
        </button>

        <!-- ZÃKAZNÃK -->
        <h2><span class="icon">ğŸ§©</span> ZÃ¡kaznÃ­k</h2>

        <div class="customer-search-wrapper">
            <input id="customer-search" type="text" placeholder="Vyhledat / zaloÅ¾it zÃ¡kaznÃ­kaâ€¦">
            <div id="customer-suggestions" class="dropdown"></div>
        </div>

        <label>Prefix zÃ¡kaznÃ­ka</label>
        <input id="customer-prefix" type="text" placeholder="napÅ™. AH01">

        <!-- HLEDAT NÃSTROJ -->
        <h2><span class="icon">ğŸ”</span> Vyhledat uloÅ¾enÃ½ nÃ¡stroj</h2>

        <div class="tool-search-wrapper">
            <input id="tool-search" type="text" placeholder="Hledat podle nÃ¡zvu nebo IDâ€¦">
            <div id="tool-suggestions" class="dropdown"></div>
        </div>

        <!-- PARAMETRY NÃSTROJE -->
        <h2><span class="icon">ğŸ› </span> Parametry nÃ¡stroje</h2>

        <label>NÃ¡zev nÃ¡stroje</label>
        <input id="tool-name" type="text">

        <label>PrÅ¯mÄ›r stopky [mm]</label>
        <input id="diameter" type="number" step="0.01">

        <label>DÃ©lka stopky [mm]</label>
        <input id="length" type="number">

        <label>InternÃ­ ÄÃ­slo zÃ¡kaznÃ­ka (SAP / ERP / ID)</label>
        <input id="customer-tool-id" type="text">

        <!-- DM a Serial -->
        <h2><span class="icon">ğŸ”¢</span> DM & SÃ©riovÃ© ÄÃ­slo</h2>

        <label><input type="checkbox" id="dm-enable"> Povolit DataMatrix</label>
        <label><input type="checkbox" id="serial-enable"> PouÅ¾Ã­t sÃ©riovÃ© ÄÃ­slo</label>

        <label>Prefix pro sÃ©riovÃ© ÄÃ­slo</label>
        <input id="serial-prefix" type="text">

        <label>Obsah DM kÃ³du</label>
        <input id="dm-content" type="text">

        <button onclick="generateSerial()">Generovat DM / Serial</button>

        <!-- ULOÅ½ENÃ -->
        <h2><span class="icon">ğŸ’¾</span> UloÅ¾it novÃ½ nÃ¡stroj</h2>
        <button onclick="saveTool()">UloÅ¾it nÃ¡stroj</button>

        <!-- EXPORT -->
        <h2><span class="icon">ğŸ“¦</span> Export</h2>
        <button class="export" onclick="exportLabel()">Exportovat Å¡tÃ­tek</button>

    </div>

    <!-- PRAVÃ STRANA â€“ NÃHLED -->
    <div class="main">
        <h2>NÃ¡hled Å¡tÃ­tku (Laser Preview)</h2>
        <div id="preview-area" class="preview-box"></div>
    </div>

</div>

<script src="script.js"></script>
</body>
</html>
